---
import { getEntry } from 'astro:content';
import ExperienceDetailTemplate from '../../../../components/templates/ExperienceDetailTemplate.astro';

export async function getStaticPaths() {
  const entry = await getEntry('resume-en', 'main');
  if (!entry) {
    throw new Error('Resume data not found');
  }
  const resumeData = entry.data;
  
  return resumeData.experience.map((exp, index) => ({
    params: { slug: exp.slug },
    props: { 
      experience: exp, 
      index,
      total: resumeData.experience.length,
      allExperience: resumeData.experience,
      labels: resumeData.labels
    }
  }));
}

const props = Astro.props;
---
<ExperienceDetailTemplate lang="en" {...props} />
